# SoccerStars-Bot
SoccerStar - это мобильная игра для двух игроков. Каждый игрок имеет по 5 фишек подконтрольной ему футбольной команды. Игроки начинают запускать одну из своих фишек по очереди, можно выбрать направление движения выбранной фишки и силу ее импульса. Как только фишка останваливается, ход переходит к противоположному игроку. Цель - забить, затолкать мяч в ворота соперника с помощью фишек. 
Идея бота в быстром анализе позицию и определения лучшего направления и силы импульса одной из фишек. Цель Проектка - разработать сильного бота для игры, который сможет побеждать живых игроков благодаря анализу позиции и умной шахматной расчетной игре. 

# Game Field Analyzer for BlueStacks

Этот модуль позволяет анализировать игровое поле эмулятора **BlueStacks** — находить мячи, фишки, определять союзные элементы, направления стрелок и работать с координатами на основе скриншотов экрана.

## Описание

Модуль автоматически:

- Делает скриншоты игровой области.
- Преобразует координаты между абсолютными и экранными.
- Находит координаты фишек и мяча.
- Определяет союзные/вражеские фишки по цвету.
- Распознаёт направление желтой стрелки (движения).
- Использует компьютерное зрение (OpenCV) и автоматизацию GUI (PyAutoGUI) для анализа изображения.

## Структура

Основной файл использует следующие модули:
- `start_window` — для поиска и закрепления окна BlueStacks.
- `setting` — файл с параметрами игрового поля (например, координаты углов, размеры объектов и т.д.).

## Функциональность

### Скриншоты

- `capture_screenshot_players()` — скриншот области с фишками.
- `capture_screenshot_ball()` — скриншот области с мячом.

### Обработка изображений

- `process_image(image, threshold)` — фильтрация фона, выделение объектов.
- `chernkovik(mode)` — комбинированная фильтрация для поиска фишек или мяча.

### Работа с координатами

- `absolute_to_image_players_coords(coords)` — перевод абсолютных координат в координаты изображения (фишки).
- `image_players_to_absolute_coords(coords)` — обратное преобразование.
- `absolute_to_image_ball_coords(coords)` и `image_ball_to_absolute_coords(coords)` — то же для мяча.

### Поиск объектов

- `find_players()` — поиск координат фишек.
- `find_ball()` — определение координаты мяча.
- `find_mine_command(coordinates)` — определение, является ли фишка союзной по цвету.

### Направление движения

- `choice_coord(coord_piece)` — определение координаты, на которую указывает желтая стрелка от заданной фишки.

### Вспомогательные функции

- `window()` — получение и привязка окна BlueStacks.
- `correct_visual_coords()` — небольшая коррекция координат при отображении.

###СЛЕДУЩИЕ ШАГИ:
-Нужно добавить логику для анализа поля игры: возможность забить гол за один ход, определить зоны риска, анализ и оценка расположение фишек, выбор оптимальной задачи: блокирование удара, удар по воротам, удар в безопасную зону(углы), улучшение собственной позиции, ухудшение позиции соперника, выбор лучшей фишки для реализации оптимальной задачи, задать импульс и направление движения фишки.  

